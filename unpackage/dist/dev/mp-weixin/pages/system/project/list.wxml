<view class="fix-top-window"><view class="uni-header"><uni-stat-breadcrumb class="uni-stat-breadcrumb-on-phone" vue-id="25c3c19b-1" bind:__l="__l"></uni-stat-breadcrumb><view class="uni-group"><input class="uni-search" type="text" placeholder="{{$root.m0}}" data-event-opts="{{[['confirm',[['search',['$event']]]],['input',[['__set_model',['','query','$event',[]]]]]]}}" value="{{query}}" bindconfirm="__e" bindinput="__e"/><button class="uni-button hide-on-phone" type="default" size="mini" data-event-opts="{{[['tap',[['search',['$event']]]]]}}" bindtap="__e">{{$root.m1}}</button><button class="uni-button" type="primary" size="mini" data-event-opts="{{[['tap',[['navigateTo',['../../admin-projects/add']]]]]}}" bindtap="__e">{{$root.m2}}</button><button class="uni-button" type="warn" size="mini" disabled="{{!$root.g0}}" data-event-opts="{{[['tap',[['delTable',['$event']]]]]}}" bindtap="__e">{{$root.m3}}</button></view></view><view class="uni-container"><unicloud-db scoped-slots-compiler="augmented" class="vue-ref" vue-id="25c3c19b-2" collection="admin-projects,admin-stages" where="{{where}}" page-data="replace" orderby="{{orderby}}" getcount="{{true}}" page-size="{{options.pageSize}}" page-current="{{options.pageCurrent}}" data-ref="udb" bind:__l="__l" vue-slots="{{['default']}}"><view class="uni-side-screen" style="display:flex;width:100%;height:100%;" wx:if="{{$root.m4}}"><view style="align-self:flex-start;min-width:15%;height:100%;text-align:left;border:2px;border-color:antiquewhite;"><uni-list vue-id="{{('25c3c19b-3')+','+('25c3c19b-2')}}" height="auto" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{$root.m5['data']}}" wx:for-item="item" wx:for-index="__i0__" wx:key="id"><uni-list-item vue-id="{{('25c3c19b-4-'+__i0__)+','+('25c3c19b-3')}}" title="{{item.name}}" link="{{true}}" data-event-opts="{{[['^click',[['e0']]]]}}" data-event-params="{{({item})}}" bind:click="__e" bind:__l="__l"></uni-list-item></block></uni-list></view><view style="align-self:flex-end;min-width:15%;height:100%;text-align:left;border:2px;border-color:antiquewhite;"><view class="project_base" style="display:inline-block;width:100%;min-height:100px;padding-bottom:30px;"><view style="display:flex;flex-wrap:wrap;margin:20px 0 0 20px;" calss="base_info_line"><view class="base_info_item" style="flex-wrap:wrap;align-self:flex-start;width:50%;display:flex;"><view class="base_info_key" style="margin-left:20px;"><text>项目名:</text></view><view class="base_info_value" style="margin-left:20px;"><text>{{project.name}}</text></view></view><view class="base_info_item" style="flex-wrap:wrap;align-self:flex-end;width:50%;display:flex;"><view class="base_info_key" style="margin-left:20px;"><text>负责人:</text></view><view class="base_info_value" style="margin-left:20px;"><text>{{project.owner}}</text></view></view></view><view style="display:flex;flex-wrap:wrap;margin:20px 0 0 20px;" calss="base_info_line"><view class="base_info_item" style="flex-wrap:wrap;align-self:flex-start;width:50%;display:flex;"><view class="base_info_key" style="margin-left:20px;"><text>项目成员:</text></view><view class="base_info_value" style="margin-left:20px;"><text>{{project.members}}</text></view></view><view class="base_info_item" style="flex-wrap:wrap;align-self:flex-end;width:50%;display:flex;"><view class="base_info_key" style="margin-left:20px;"><text>项目状态:</text></view><view class="base_info_value" style="margin-left:20px;"><text>{{project.state}}</text></view></view></view><view style="display:flex;flex-wrap:wrap;margin:20px 0 0 20px;" calss="base_info_line"><view class="base_info_item" style="flex-wrap:wrap;align-self:flex-start;width:50%;display:flex;"><view class="base_info_key" style="margin-left:20px;"><text>项目进度:</text></view><view class="base_info_value" style="margin-left:20px;"><text>{{project.stages}}</text></view></view><view class="base_info_item" style="flex-wrap:wrap;align-self:flex-end;width:50%;display:flex;"><view class="base_info_key" style="margin-left:20px;"><text>项目成本:</text></view><view class="base_info_value" style="margin-left:20px;"><text>{{project.cost+"/"+project.total_cost}}</text></view></view></view></view><uni-table class="vue-ref" vue-id="{{('25c3c19b-5')+','+('25c3c19b-2')}}" loading="{{$root.m6['loading']}}" emptyText="{{$root.m7}}" border="{{true}}" stripe="{{true}}" type="selection" data-ref="table" data-event-opts="{{[['^selectionChange',[['selectionChange']]]]}}" bind:selectionChange="__e" bind:__l="__l" vue-slots="{{['default']}}"><uni-tr vue-id="{{('25c3c19b-6')+','+('25c3c19b-5')}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-th vue-id="{{('25c3c19b-7')+','+('25c3c19b-6')}}" align="center" filter-type="search" bind:__l="__l" vue-slots="{{['default']}}">StageId</uni-th><uni-th vue-id="{{('25c3c19b-8')+','+('25c3c19b-6')}}" align="center" filter-type="search" bind:__l="__l" vue-slots="{{['default']}}">阶段名称</uni-th><uni-th vue-id="{{('25c3c19b-9')+','+('25c3c19b-6')}}" align="center" filter-type="search" bind:__l="__l" vue-slots="{{['default']}}">阶段状态</uni-th><uni-th vue-id="{{('25c3c19b-10')+','+('25c3c19b-6')}}" align="center" filter-type="search" bind:__l="__l" vue-slots="{{['default']}}">负责人</uni-th><uni-th vue-id="{{('25c3c19b-11')+','+('25c3c19b-6')}}" align="center" filter-type="search" bind:__l="__l" vue-slots="{{['default']}}">阶段成员</uni-th><uni-th vue-id="{{('25c3c19b-12')+','+('25c3c19b-6')}}" align="center" filter-type="timestamp" bind:__l="__l" vue-slots="{{['default']}}">创建时间</uni-th><uni-th vue-id="{{('25c3c19b-13')+','+('25c3c19b-6')}}" align="center" width="{{buttonThWidth}}" bind:__l="__l" vue-slots="{{['default']}}">操作</uni-th></uni-tr><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><uni-tr vue-id="{{('25c3c19b-14-'+index)+','+('25c3c19b-5')}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-td vue-id="{{('25c3c19b-15-'+index)+','+('25c3c19b-14-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.stage_id}}</uni-td><uni-td vue-id="{{('25c3c19b-16-'+index)+','+('25c3c19b-14-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.name}}</uni-td><uni-td vue-id="{{('25c3c19b-17-'+index)+','+('25c3c19b-14-'+index)}}" align="left" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.state}}</uni-td><uni-td vue-id="{{('25c3c19b-18-'+index)+','+('25c3c19b-14-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.owner}}</uni-td><uni-td vue-id="{{('25c3c19b-19-'+index)+','+('25c3c19b-14-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.members}}</uni-td><uni-td vue-id="{{('25c3c19b-20-'+index)+','+('25c3c19b-14-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.creat_time}}</uni-td><uni-td vue-id="{{('25c3c19b-21-'+index)+','+('25c3c19b-14-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}"><view class="uni-group"><button class="uni-button" size="mini" type="primary" data-event-opts="{{[['tap',[['editRow',['$0'],[[['stages','',index]]]]]]]}}" bindtap="__e">{{item.m8}}</button><button class="uni-button" size="mini" type="warn" data-event-opts="{{[['tap',[['confirmDelete',['$0'],[[['stages','',index,'_id']]]]]]]}}" bindtap="__e">{{item.m9}}</button></view></uni-td></uni-tr></block><uni-tr vue-id="{{('25c3c19b-22')+','+('25c3c19b-5')}}" bind:__l="__l" vue-slots="{{['default']}}"><button data-event-opts="{{[['tap',[['navigateTo',['../../admin-stages/add']]]]]}}" class="uni-button" bindtap="__e">新增阶段</button></uni-tr></uni-table><block wx:if="{{showDialog}}"><dialog-component class="vue-ref" vue-id="{{('25c3c19b-23')+','+('25c3c19b-2')}}" dialog-title="{{dialogTitle}}" item-info="{{stageItem}}" data-ref="dialogComponent" data-event-opts="{{[['^closeDialog',[['closeDialog']]]]}}" bind:closeDialog="__e" bind:__l="__l"></dialog-component></block><view class="uni-pagination-box"><uni-pagination vue-id="{{('25c3c19b-24')+','+('25c3c19b-2')}}" show-icon="{{true}}" show-page-size="{{true}}" page-size="{{$root.m10['pagination'].size}}" total="{{$root.m11['pagination'].count}}" value="{{$root.m12['pagination'].current}}" data-event-opts="{{[['^change',[['onPageChanged']]],['^pageSizeChange',[['pageSizeChange']]],['^input',[['__set_model',['$0','current','$event',[]],['$getSSP(25c3c19b-2,default).pagination']]]]]}}" bind:change="__e" bind:pageSizeChange="__e" bind:input="__e" bind:__l="__l"></uni-pagination></view></view></view></unicloud-db></view><fix-window vue-id="25c3c19b-25" bind:__l="__l"></fix-window></view>